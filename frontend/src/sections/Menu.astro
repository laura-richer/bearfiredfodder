---
import getUrlForImage from '@/utils/getUrlForImage';
const {title, copy, backgroundImage, menuItems, id} = Astro.props;
---

<section id={id} class="menu" style=`background-image: url(${getUrlForImage(backgroundImage).url()})`>
  <div class="menu__overlay"></div>
  <div class="container menu__container">
    <h2>{title}</h2>
    <div class="menu__content">
      <div class="menu__copy">
        <p>{copy}</p>
      </div>

      <div class="menu__items">
        {menuItems.map(menuItem => (
          <div class="menu__item">
            {menuItem}
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style lang="scss">
@import '@/scss/container';

.menu {
  position: relative;
  background: no-repeat center bottom;
  background-size: cover;
  color: var(--color-white);

  &__overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: var(--color-red-alpha);
  }

  &__container {
    position: relative;
    z-index: 1;
  }

  &__content {
    display: flex;
    gap: var(--spacer-s);
    flex-direction: column;

    @media screen and (min-width: 768px) {
      flex-direction: row;
      gap: var(--spacer-l);
    }
  }

  &__copy {
    @media screen and (min-width: 768px) {
      flex: 0 0 33%;
    }
  }

  &__items {
    display: grid;
    gap: var(--spacer-s);

    @media screen and (min-width: 768px) {
      grid-template-columns: 1fr 1fr;
      gap: var(--spacer-l);
    }
  }
}
</style>
